<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>object &#8212; Understanding JSON Schema 2020-12 documentation</title>
    <link rel="stylesheet" href="../_static/jsonschema.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/jsonschema.js"></script>
    <link rel="shortcut icon" href="../_static/logo.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="array" href="array.html" />
    <link rel="prev" title="Numeric types" href="numeric.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-99695987-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-99695987-1');
</script>

  </head><body>
  
  <a href="https://github.com/json-schema-org/understanding-json-schema"
     class="visible-desktop"><img
    style="position: absolute; z-index: 10; top: 40px; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
    alt="Fork me on GitHub"></a>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          Understanding JSON Schema</a>
        <span class="navbar-text navbar-version pull-left"><b>2020-12</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Document <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../conventions.html">Conventions used in this book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">What is a schema?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics.html">The basics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">JSON Schema Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structuring.html">Structuring a complex schema</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Acknowledgments</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="numeric.html" title="Previous Chapter: Numeric types"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Numeric types</span>
    </a>
  </li>
  <li>
    <a href="array.html" title="Next Chapter: array"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">array &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="object">
<span id="index-0"></span><span id="id1"></span><h1>object<a class="headerlink" href="#object" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#properties" id="id3">Properties</a></li>
<li><a class="reference internal" href="#pattern-properties" id="id4">Pattern Properties</a></li>
<li><a class="reference internal" href="#additional-properties" id="id5">Additional Properties</a><ul>
<li><a class="reference internal" href="#extending-closed-schemas" id="id6">Extending Closed Schemas</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unevaluated-properties" id="id7">Unevaluated Properties</a></li>
<li><a class="reference internal" href="#required-properties" id="id8">Required Properties</a></li>
<li><a class="reference internal" href="#property-names" id="id9">Property names</a></li>
<li><a class="reference internal" href="#size" id="id10">Size</a></li>
</ul>
</div>
<p>Objects are the mapping type in JSON.  They map “keys” to “values”.
In JSON, the “keys” must always be strings.  Each of these pairs is
conventionally referred to as a “property”.</p>
<div class="tabbable">
<ul class="nav nav-tabs simple">
<li class="disabled"><a class="disabled">Language-specific info:</a></li>
<li class="active"><a data-toggle="tab" href="#7f1e01322230_Python">Python</a></li>
<li><a data-toggle="tab" href="#7f1e01322230_Ruby">Ruby</a></li>
</ul>
<div class="tab-content section">
<div class="tab-pane active section" id="7f1e01322230_Python">
<p>In Python, &quot;objects&quot; are analogous to the <code class="docutils literal notranslate"><span class="pre">dict</span></code> type.  An
important difference, however, is that while Python dictionaries
may use anything hashable as a key, in JSON all the keys
must be strings.</p>
<p>Try not to be confused by the two uses of the word &quot;object&quot; here:
Python uses the word <code class="docutils literal notranslate"><span class="pre">object</span></code> to mean the generic base class for
everything, whereas in JSON it is used only to mean a mapping from
string keys to values.</p>
</div>
<div class="tab-pane section" id="7f1e01322230_Ruby">
<p>In Ruby, &quot;objects&quot; are analogous to the <code class="docutils literal notranslate"><span class="pre">Hash</span></code> type. An important
difference, however, is that all keys in JSON must be strings, and therefore
any non-string keys are converted over to their string representation.</p>
<p>Try not to be confused by the two uses of the word &quot;object&quot; here:
Ruby uses the word <code class="docutils literal notranslate"><span class="pre">Object</span></code> to mean the generic base class for
everything, whereas in JSON it is used only to mean a mapping from
string keys to values.</p>
</div>
</div>
</div><div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;key&quot;</span><span class="o">:</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span>
   <span class="s2">&quot;another_key&quot;</span><span class="o">:</span> <span class="s2">&quot;another_value&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;Sun&quot;</span><span class="o">:</span> <span class="mf">1.9891e30</span><span class="p">,</span>
    <span class="s2">&quot;Jupiter&quot;</span><span class="o">:</span> <span class="mf">1.8986e27</span><span class="p">,</span>
    <span class="s2">&quot;Saturn&quot;</span><span class="o">:</span> <span class="mf">5.6846e26</span><span class="p">,</span>
    <span class="s2">&quot;Neptune&quot;</span><span class="o">:</span> <span class="mf">10.243e25</span><span class="p">,</span>
    <span class="s2">&quot;Uranus&quot;</span><span class="o">:</span> <span class="mf">8.6810e25</span><span class="p">,</span>
    <span class="s2">&quot;Earth&quot;</span><span class="o">:</span> <span class="mf">5.9736e24</span><span class="p">,</span>
    <span class="s2">&quot;Venus&quot;</span><span class="o">:</span> <span class="mf">4.8685e24</span><span class="p">,</span>
    <span class="s2">&quot;Mars&quot;</span><span class="o">:</span> <span class="mf">6.4185e23</span><span class="p">,</span>
    <span class="s2">&quot;Mercury&quot;</span><span class="o">:</span> <span class="mf">3.3022e23</span><span class="p">,</span>
    <span class="s2">&quot;Moon&quot;</span><span class="o">:</span> <span class="mf">7.349e22</span><span class="p">,</span>
    <span class="s2">&quot;Pluto&quot;</span><span class="o">:</span> <span class="mf">1.25e22</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">Using non-strings as keys is invalid JSON:</p>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="mf">0.01</span><span class="o">:</span> <span class="s2">&quot;cm&quot;</span><span class="p">,</span>
    <span class="mf">1</span><span class="o">:</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span>
    <span class="mf">1000</span><span class="o">:</span> <span class="s2">&quot;km&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Not an object&quot;</span>
</pre></div>
</div>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;An&quot;</span><span class="p">,</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span> <span class="s2">&quot;not&quot;</span><span class="p">,</span> <span class="s2">&quot;an&quot;</span><span class="p">,</span> <span class="s2">&quot;object&quot;</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="properties">
<span id="index-1"></span><span id="id2"></span><h2><a class="toc-backref" href="#id3">Properties</a><a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<p>The properties (key-value pairs) on an object are defined using the
<code class="docutils literal notranslate"><span class="pre">properties</span></code> keyword.  The value of <code class="docutils literal notranslate"><span class="pre">properties</span></code> is an object,
where each key is the name of a property and each value is a schema
used to validate that property. Any property that doesn’t match any of
the property names in the <code class="docutils literal notranslate"><span class="pre">properties</span></code> keyword is ignored by this
keyword.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See <a class="reference internal" href="#additionalproperties"><span class="std std-ref">Additional Properties</span></a> and <a class="reference internal" href="#unevaluatedproperties"><span class="std std-ref">Unevaluated Properties</span></a> for how to
disallow properties that don’t match any of the property names in
<code class="docutils literal notranslate"><span class="pre">properties</span></code>.</p>
</div>
<p>For example, let’s say we want to define a simple schema for an
address made up of a number, street name and street type:</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
  <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;number&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;street_type&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;enum&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;Street&quot;</span><span class="p">,</span> <span class="s2">&quot;Avenue&quot;</span><span class="p">,</span> <span class="s2">&quot;Boulevard&quot;</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="mf">1600</span><span class="p">,</span> <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="s2">&quot;Pennsylvania&quot;</span><span class="p">,</span> <span class="s2">&quot;street_type&quot;</span><span class="o">:</span> <span class="s2">&quot;Avenue&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">If we provide the number in the wrong type, it is invalid:</p>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="s2">&quot;1600&quot;</span><span class="p">,</span> <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="s2">&quot;Pennsylvania&quot;</span><span class="p">,</span> <span class="s2">&quot;street_type&quot;</span><span class="o">:</span> <span class="s2">&quot;Avenue&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">By default, leaving out properties is valid.  See
<a class="reference internal" href="#required"><span class="std std-ref">Required Properties</span></a>.</p>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="mf">1600</span><span class="p">,</span> <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="s2">&quot;Pennsylvania&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">By extension, even an empty object is valid:</p>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">By default, providing additional properties is valid:</p>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="mf">1600</span><span class="p">,</span> <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="s2">&quot;Pennsylvania&quot;</span><span class="p">,</span> <span class="s2">&quot;street_type&quot;</span><span class="o">:</span> <span class="s2">&quot;Avenue&quot;</span><span class="p">,</span> <span class="s2">&quot;direction&quot;</span><span class="o">:</span> <span class="s2">&quot;NW&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="pattern-properties">
<span id="patternproperties"></span><span id="index-2"></span><h2><a class="toc-backref" href="#id4">Pattern Properties</a><a class="headerlink" href="#pattern-properties" title="Permalink to this headline">¶</a></h2>
<p>Sometimes you want to say that, given a particular kind of property
name, the value should match a particular schema. That’s where
<code class="docutils literal notranslate"><span class="pre">patternProperties</span></code> comes in: it maps regular expressions to
schemas. If a property name matches the given regular expression, the
property value must validate against the corresponding schema.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Regular expressions are not anchored. This means that when defining
the regular expressions for <code class="docutils literal notranslate"><span class="pre">patternProperties</span></code>, it’s important
to note that the expression may match anywhere within the property
name. For example, the regular expression <code class="docutils literal notranslate"><span class="pre">&quot;p&quot;</span></code> will match any
property name with a <code class="docutils literal notranslate"><span class="pre">p</span></code> in it, such as <code class="docutils literal notranslate"><span class="pre">&quot;apple&quot;</span></code>, not just a
property whose name is simply <code class="docutils literal notranslate"><span class="pre">&quot;p&quot;</span></code>. It’s therefore usually less
confusing to surround the regular expression in <code class="docutils literal notranslate"><span class="pre">^...$</span></code>, for
example, <code class="docutils literal notranslate"><span class="pre">&quot;^p$&quot;</span></code>.</p>
</div>
<p>In this example, any properties whose names start with the prefix
<code class="docutils literal notranslate"><span class="pre">S_</span></code> must be strings, and any with the prefix <code class="docutils literal notranslate"><span class="pre">I_</span></code> must be
integers. Any properties that do not match either regular expression
are ignored.</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
  <span class="s2">&quot;patternProperties&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;^S_&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;^I_&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;integer&quot;</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;S_25&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a string&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;I_0&quot;</span><span class="o">:</span> <span class="mf">42</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">If the name starts with <code class="docutils literal notranslate"><span class="pre">S_</span></code>, it must be a string</p>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;S_0&quot;</span><span class="o">:</span> <span class="mf">42</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">If the name starts with <code class="docutils literal notranslate"><span class="pre">I_</span></code>, it must be an integer</p>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;I_42&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a string&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">This is a key that doesn’t match any of the regular expressions:</p>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;keyword&quot;</span><span class="o">:</span> <span class="s2">&quot;value&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="additional-properties">
<span id="additionalproperties"></span><span id="index-3"></span><h2><a class="toc-backref" href="#id5">Additional Properties</a><a class="headerlink" href="#additional-properties" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> keyword is used to control the handling
of extra stuff, that is, properties whose names are not listed in the
<code class="docutils literal notranslate"><span class="pre">properties</span></code> keyword or match any of the regular expressions in the
<code class="docutils literal notranslate"><span class="pre">patternProperties</span></code> keyword. By default any additional properties
are allowed.</p>
<p>The value of the <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> keyword is a schema that
will be used to validate any properties in the instance that are not
matched by <code class="docutils literal notranslate"><span class="pre">properties</span></code> or <code class="docutils literal notranslate"><span class="pre">patternProperties</span></code>. Setting the
<code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> schema to <code class="docutils literal notranslate"><span class="pre">false</span></code> means no additional
properties will be allowed.</p>
<p>Reusing the example from <a class="reference internal" href="#properties"><span class="std std-ref">Properties</span></a>, but this time setting
<code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
  <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;number&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;street_type&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;enum&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;Street&quot;</span><span class="p">,</span> <span class="s2">&quot;Avenue&quot;</span><span class="p">,</span> <span class="s2">&quot;Boulevard&quot;</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;additionalProperties&quot;</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="mf">1600</span><span class="p">,</span> <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="s2">&quot;Pennsylvania&quot;</span><span class="p">,</span> <span class="s2">&quot;street_type&quot;</span><span class="o">:</span> <span class="s2">&quot;Avenue&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">Since <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, this extra
property “direction” makes the object invalid:</p>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="mf">1600</span><span class="p">,</span> <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="s2">&quot;Pennsylvania&quot;</span><span class="p">,</span> <span class="s2">&quot;street_type&quot;</span><span class="o">:</span> <span class="s2">&quot;Avenue&quot;</span><span class="p">,</span> <span class="s2">&quot;direction&quot;</span><span class="o">:</span> <span class="s2">&quot;NW&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>You can use non-boolean schemas to put more complex constraints on the
additional properties of an instance. For example, one can allow
additional properties, but only if they are each a string:</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
  <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;number&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;street_type&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;enum&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;Street&quot;</span><span class="p">,</span> <span class="s2">&quot;Avenue&quot;</span><span class="p">,</span> <span class="s2">&quot;Boulevard&quot;</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;additionalProperties&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="mf">1600</span><span class="p">,</span> <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="s2">&quot;Pennsylvania&quot;</span><span class="p">,</span> <span class="s2">&quot;street_type&quot;</span><span class="o">:</span> <span class="s2">&quot;Avenue&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">This is valid, since the additional property’s value is a string:</p>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="mf">1600</span><span class="p">,</span> <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="s2">&quot;Pennsylvania&quot;</span><span class="p">,</span> <span class="s2">&quot;street_type&quot;</span><span class="o">:</span> <span class="s2">&quot;Avenue&quot;</span><span class="p">,</span> <span class="s2">&quot;direction&quot;</span><span class="o">:</span> <span class="s2">&quot;NW&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">This is invalid, since the additional property’s value is not a string:</p>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;number&quot;</span><span class="o">:</span> <span class="mf">1600</span><span class="p">,</span> <span class="s2">&quot;street_name&quot;</span><span class="o">:</span> <span class="s2">&quot;Pennsylvania&quot;</span><span class="p">,</span> <span class="s2">&quot;street_type&quot;</span><span class="o">:</span> <span class="s2">&quot;Avenue&quot;</span><span class="p">,</span> <span class="s2">&quot;office_number&quot;</span><span class="o">:</span> <span class="mf">201</span> <span class="p">}</span>
</pre></div>
</div>
<p>You can use <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> with a combination of
<code class="docutils literal notranslate"><span class="pre">properties</span></code> and <code class="docutils literal notranslate"><span class="pre">patternProperties</span></code>. In the following example,
based on the example from <a class="reference internal" href="#patternproperties"><span class="std std-ref">Pattern Properties</span></a>, we add a <code class="docutils literal notranslate"><span class="pre">&quot;builtin&quot;</span></code>
property, which must be a number, and declare that all additional
properties (that are neither defined by <code class="docutils literal notranslate"><span class="pre">properties</span></code> nor matched by
<code class="docutils literal notranslate"><span class="pre">patternProperties</span></code>) must be strings:</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
  <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;builtin&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;number&quot;</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;patternProperties&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;^S_&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;^I_&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;integer&quot;</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;additionalProperties&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;builtin&quot;</span><span class="o">:</span> <span class="mf">42</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">This is a key that doesn’t match any of the regular expressions:</p>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;keyword&quot;</span><span class="o">:</span> <span class="s2">&quot;value&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">It must be a string:</p>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;keyword&quot;</span><span class="o">:</span> <span class="mf">42</span> <span class="p">}</span>
</pre></div>
</div>
<div class="section" id="extending-closed-schemas">
<span id="extending"></span><span id="index-4"></span><h3><a class="toc-backref" href="#id6">Extending Closed Schemas</a><a class="headerlink" href="#extending-closed-schemas" title="Permalink to this headline">¶</a></h3>
<p>It’s important to note that <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> only recognizes
properties declared in the same subschema as itself. So,
<code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> can restrict you from “extending” a schema
using <a class="reference internal" href="combining.html#combining"><span class="std std-ref">Schema Composition</span></a> keywords such as <a class="reference internal" href="combining.html#allof"><span class="std std-ref">allOf</span></a>. In the following example,
we can see how the <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> can cause attempts to
extend the address schema example to fail.</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;allOf&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;required&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;street_address&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="s2">&quot;state&quot;</span><span class="p">],</span>
      <span class="s2">&quot;additionalProperties&quot;</span><span class="o">:</span> <span class="kc">false</span>
    <span class="p">}</span>
  <span class="p">],</span>

  <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;enum&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;residential&quot;</span><span class="p">,</span> <span class="s2">&quot;business&quot;</span> <span class="p">]</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;required&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">Fails <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code>. “type” is considered additional.</p>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="s2">&quot;1600 Pennsylvania Avenue NW&quot;</span><span class="p">,</span>
   <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span>
   <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span>
   <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;business&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">Fails <code class="docutils literal notranslate"><span class="pre">required</span></code>. “type” is required.</p>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="s2">&quot;1600 Pennsylvania Avenue NW&quot;</span><span class="p">,</span>
   <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span>
   <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Because <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> only recognizes properties declared
in the same subschema, it considers anything other than
“street_address”, “city”, and “state” to be additional. Combining the
schemas with <a class="reference internal" href="combining.html#allof"><span class="std std-ref">allOf</span></a> doesn’t change that. A workaround you can use is
to move <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> to the extending schema and redeclare
the properties from the extended schema.</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;allOf&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;required&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;street_address&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="s2">&quot;state&quot;</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>

  <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;enum&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;residential&quot;</span><span class="p">,</span> <span class="s2">&quot;business&quot;</span> <span class="p">]</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;required&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span>
  <span class="s2">&quot;additionalProperties&quot;</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="s2">&quot;1600 Pennsylvania Avenue NW&quot;</span><span class="p">,</span>
   <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span>
   <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span>
   <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;business&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="s2">&quot;1600 Pennsylvania Avenue NW&quot;</span><span class="p">,</span>
   <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span>
   <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span>
   <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;business&quot;</span><span class="p">,</span>
   <span class="s2">&quot;something that doesn&#39;t belong&quot;</span><span class="o">:</span> <span class="s2">&quot;hi!&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now the <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> keyword is able to recognize all the
necessary properties and the schema works as expected. Keep reading to
see how the <code class="docutils literal notranslate"><span class="pre">unevaluatedProperties</span></code> keyword solves this problem
without needing to redeclare properties.</p>
</div>
</div>
<div class="section" id="unevaluated-properties">
<span id="unevaluatedproperties"></span><span id="index-5"></span><h2><a class="toc-backref" href="#id7">Unevaluated Properties</a><a class="headerlink" href="#unevaluated-properties" title="Permalink to this headline">¶</a></h2>
<p><span class="new">New in draft 2019-09</span></p>
<p>In the previous section we saw the challenges with using
<code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> when “extending” a schema using
<a class="reference internal" href="combining.html#combining"><span class="std std-ref">Schema Composition</span></a>. The <code class="docutils literal notranslate"><span class="pre">unevaluatedProperties</span></code> keyword is similar to
<code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> except that it can recognize properties
declared in subschemas. So, the example from the previous section can
be rewritten without the need to redeclare properties.</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;allOf&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
      <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
        <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;required&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;street_address&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="s2">&quot;state&quot;</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>

  <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;enum&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;residential&quot;</span><span class="p">,</span> <span class="s2">&quot;business&quot;</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;required&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span>
  <span class="s2">&quot;unevaluatedProperties&quot;</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="s2">&quot;1600 Pennsylvania Avenue NW&quot;</span><span class="p">,</span>
   <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span>
   <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span>
   <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;business&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="s2">&quot;1600 Pennsylvania Avenue NW&quot;</span><span class="p">,</span>
   <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span>
   <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span>
   <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;business&quot;</span><span class="p">,</span>
   <span class="s2">&quot;something that doesn&#39;t belong&quot;</span><span class="o">:</span> <span class="s2">&quot;hi!&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">unevaluatedProperties</span></code> works by collecting any properties that are
successfully validated when processing the schemas and using those as
the allowed list of properties. This allows you to do more complex
things like conditionally adding properties. The following example
allows the “department” property only if the “type” of address is
“business”.</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
  <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;enum&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;residential&quot;</span><span class="p">,</span> <span class="s2">&quot;business&quot;</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;required&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;street_address&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">],</span>

  <span class="s2">&quot;if&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
    <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;const&quot;</span><span class="o">:</span> <span class="s2">&quot;business&quot;</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;required&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">&quot;then&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;department&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>

  <span class="s2">&quot;unevaluatedProperties&quot;</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="s2">&quot;1600 Pennsylvania Avenue NW&quot;</span><span class="p">,</span>
  <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span>
  <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;business&quot;</span><span class="p">,</span>
  <span class="s2">&quot;department&quot;</span><span class="o">:</span> <span class="s2">&quot;HR&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;street_address&quot;</span><span class="o">:</span> <span class="s2">&quot;1600 Pennsylvania Avenue NW&quot;</span><span class="p">,</span>
  <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span>
  <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;residential&quot;</span><span class="p">,</span>
  <span class="s2">&quot;department&quot;</span><span class="o">:</span> <span class="s2">&quot;HR&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this schema, the properties declared in the <code class="docutils literal notranslate"><span class="pre">then</span></code> schema only
count as “evaluated” properties if the “type” of the address is
“business”.</p>
</div>
<div class="section" id="required-properties">
<span id="required"></span><span id="index-6"></span><h2><a class="toc-backref" href="#id8">Required Properties</a><a class="headerlink" href="#required-properties" title="Permalink to this headline">¶</a></h2>
<p>By default, the properties defined by the <code class="docutils literal notranslate"><span class="pre">properties</span></code> keyword are
not required.  However, one can provide a list of required properties
using the <code class="docutils literal notranslate"><span class="pre">required</span></code> keyword.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">required</span></code> keyword takes an array of zero or more strings.  Each
of these strings must be unique.</p>
<div class="tabbable">
<ul class="nav nav-tabs simple">
<li class="disabled"><a class="disabled">Draft-specific info:</a></li>
<li class="active"><a data-toggle="tab" href="#7f1e00f52b30_Draft_4">Draft 4</a></li>
</ul>
<div class="tab-content section">
<div class="tab-pane active section" id="7f1e00f52b30_Draft_4">
In Draft 4, <code class="docutils literal notranslate"><span class="pre">required</span></code> must contain at least one string.</div>
</div>
</div><p>In the following example schema defining a user record, we require
that each user has a name and e-mail address, but we don’t mind if
they don’t provide their address or telephone number:</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
  <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;address&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;telephone&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;required&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;William Shakespeare&quot;</span><span class="p">,</span>
  <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;bill@stratford-upon-avon.co.uk&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">Providing extra properties is fine, even properties not defined
in the schema:</p>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;William Shakespeare&quot;</span><span class="p">,</span>
  <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="s2">&quot;bill@stratford-upon-avon.co.uk&quot;</span><span class="p">,</span>
  <span class="s2">&quot;address&quot;</span><span class="o">:</span> <span class="s2">&quot;Henley Street, Stratford-upon-Avon, Warwickshire, England&quot;</span><span class="p">,</span>
  <span class="s2">&quot;authorship&quot;</span><span class="o">:</span> <span class="s2">&quot;in question&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">Missing the required “email” property makes the JSON document invalid:</p>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;William Shakespeare&quot;</span><span class="p">,</span>
  <span class="s2">&quot;address&quot;</span><span class="o">:</span> <span class="s2">&quot;Henley Street, Stratford-upon-Avon, Warwickshire, England&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="jsonschema-comment">In JSON a property with value <code class="docutils literal notranslate"><span class="pre">null</span></code> is not equivalent to the property
not being present. This fails because <code class="docutils literal notranslate"><span class="pre">null</span></code> is not of type “string”,
it’s of type “null”</p>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;William Shakespeare&quot;</span><span class="p">,</span>
  <span class="s2">&quot;address&quot;</span><span class="o">:</span> <span class="s2">&quot;Henley Street, Stratford-upon-Avon, Warwickshire, England&quot;</span><span class="p">,</span>
  <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="kc">null</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="property-names">
<span id="propertynames"></span><span id="index-7"></span><h2><a class="toc-backref" href="#id9">Property names</a><a class="headerlink" href="#property-names" title="Permalink to this headline">¶</a></h2>
<p><span class="new">New in draft 6</span></p>
<p>The names of properties can be validated against a schema, irrespective of their
values. This can be useful if you don’t want to enforce specific properties,
but you want to make sure that the names of those properties follow a specific
convention. You might, for example, want to enforce that all names are valid
ASCII tokens so they can be used as attributes in a particular programming
language.</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
  <span class="s2">&quot;propertyNames&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;pattern&quot;</span><span class="o">:</span> <span class="s2">&quot;^[A-Za-z_][A-Za-z0-9_]*$&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_a_proper_token_001&quot;</span><span class="o">:</span> <span class="s2">&quot;value&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;001 invalid&quot;</span><span class="o">:</span> <span class="s2">&quot;value&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Since object keys must always be strings anyway, it is implied that the
schema given to <code class="docutils literal notranslate"><span class="pre">propertyNames</span></code> is always at least:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="size">
<span id="index-8"></span><h2><a class="toc-backref" href="#id10">Size</a><a class="headerlink" href="#size" title="Permalink to this headline">¶</a></h2>
<p>The number of properties on an object can be restricted using the
<code class="docutils literal notranslate"><span class="pre">minProperties</span></code> and <code class="docutils literal notranslate"><span class="pre">maxProperties</span></code> keywords.  Each of these
must be a non-negative integer.</p>
<div class="jsonschema highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
  <span class="s2">&quot;minProperties&quot;</span><span class="o">:</span> <span class="mf">2</span><span class="p">,</span>
  <span class="s2">&quot;maxProperties&quot;</span><span class="o">:</span> <span class="mf">3</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{}</span>
</pre></div>
</div>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="mf">0</span> <span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-pass highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="o">:</span> <span class="mf">2</span> <span class="p">}</span>
</pre></div>
</div>
<div class="jsonschema-fail highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;a&quot;</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="o">:</span> <span class="mf">2</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="o">:</span> <span class="mf">3</span> <span class="p">}</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013-2016 Michael Droettboom, Space Telescope Science Institute; © 2016-2021 Michael Droettboom.<br/>
      Last updated on Dec 17, 2021.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>